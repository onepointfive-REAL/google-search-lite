<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Google Search Lite</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">

<style>
  body {
    font-family: 'Roboto', Arial, sans-serif;
    background: #fff;
    color: #202124;
    margin: 0;
    padding: 0;
    text-align: center;
  }

  header {
    margin-top: 80px;
  }

  header img {
    width: 272px;
    margin-bottom: 40px;
  }

  form {
    margin: 0 auto 40px auto;
    max-width: 600px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  input[type="text"] {
    width: 100%;
    padding: 10px 20px;
    font-size: 18px;
    border: 1px solid #dfe1e5;
    border-radius: 24px;
    outline: none;
    box-shadow: 0 1px 6px rgba(32,33,36,.28);
    font-family: 'Roboto', Arial, sans-serif;
  }

  button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 16px;
    border: none;
    border-radius: 4px;
    background-color: #f8f9fa;
    cursor: pointer;
    box-shadow: 0 1px 2px rgba(32,33,36,.28);
    font-family: 'Roboto', Arial, sans-serif;
  }

  #results {
    max-width: 650px;
    margin: 30px auto;
    text-align: left;
  }

  .result {
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid #e0e0e0;
  }

  .result a {
    color: #1a0dab;
    font-size: 18px;
    text-decoration: none;
  }

  .result a:hover {
    text-decoration: underline;
  }

  .snippet {
    font-size: 14px;
    color: #4d5156;
    margin-top: 4px;
  }

  .url {
    font-size: 13px;
    color: #006621;
  }

  #pagination {
    margin: 20px 0;
    display: none; /* hidden until search done */
  }

  #pagination button {
    margin: 0 5px;
    border-radius: 4px;
    padding: 8px 14px;
    font-size: 16px;
    font-family: 'Roboto', Arial, sans-serif;
  }

  footer {
    margin-top: 50px;
    font-size: 12px;
    color: #70757a;
    padding-bottom: 30px;
  }
</style>
</head>
<body>

<header>
  <img src="https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png" alt="Google Logo">
</header>

<form id="search-form">
  <input type="text" id="query" placeholder="Search query..." required>
  <button type="submit">Search</button>
</form>

<div id="results"></div>
<div id="pagination">
  <button id="prev" disabled>Previous</button>
  <button id="next" disabled>Next</button>
</div>

<footer>
  Â© 2025 Google
</footer>

<script>
const API_KEY = 'AIzaSyBWt_Ro_232tB77nnOswu1dE8NrJK7Kr7s';   
const CSE_ID = '101dd4ea922d245aa'; 

let currentQuery = '';
let startIndex = 1;

const form = document.getElementById('search-form');
const resultsDiv = document.getElementById('results');
const paginationDiv = document.getElementById('pagination');
const prevBtn = document.getElementById('prev');
const nextBtn = document.getElementById('next');


form.addEventListener('submit', function(e) {
  e.preventDefault(); // stop default submission (no refresh)
  
  const query = document.getElementById('query').value.trim();
  if (!query) return; // do nothing if empty
  
  currentQuery = query;
  startIndex = 1;
  search(currentQuery); // call search function
});


prevBtn.addEventListener('click', () => {
  if (startIndex > 1) {
    startIndex -= 10;
    search(currentQuery);
  }
});

nextBtn.addEventListener('click', () => {
  startIndex += 10;
  search(currentQuery);
});

async function search(query) {
  resultsDiv.innerHTML = '<p>Loading...</p>';
  paginationDiv.style.display = 'none'; // hide pagination while loading

  try {
    const res = await fetch(`https://www.googleapis.com/customsearch/v1?key=${API_KEY}&cx=${CSE_ID}&q=${encodeURIComponent(query)}&start=${startIndex}`);
    const data = await res.json();
    renderResults(data.items);

    // Show pagination after search
    paginationDiv.style.display = 'block';
    prevBtn.disabled = startIndex <= 1;
    nextBtn.disabled = !data.items || data.items.length < 10;

  } catch (err) {
    resultsDiv.innerHTML = '<p>Error fetching results.</p>';
    console.error(err);
  }
}

function renderResults(items) {
  if (!items || items.length === 0) {
    resultsDiv.innerHTML = '<p>No results found.</p>';
    return;
  }

  resultsDiv.innerHTML = '';

  items.forEach(item => {
    const div = document.createElement('div');
    div.classList.add('result');
    div.style.marginBottom = '10px';
    div.style.paddingBottom = '10px';
    div.style.borderBottom = '1px solid #e0e0e0';

    div.innerHTML = `
      <a href="${item.link}" target="_blank" style="font-size:18px; color:#1a0dab; text-decoration:none; display:block; margin-bottom:2px;">${item.title}</a>
      <div class="url" style="font-size:14px; color:#006621; margin-bottom:5px;">${item.displayLink}</div>
      <div class="snippet" style="font-size:14px; color:#4d5156;">${item.snippet}</div>
    `;

    resultsDiv.appendChild(div);
  });
}



</script>

</body>
</html>
